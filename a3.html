<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>大转盘</title>
    <link rel="stylesheet" href="a3.css">
    <script src="./jquery.js"></script>
</head>

<body>
    <div id="aaa"> </div>
    <div id="bbb">▼</div>
    <div id="main">
        <div class="black2">
            <div>
                <!-- 不中 -->
            </div>
        </div>
        <div class="red">
            <div>
                <!-- 中<p></p>
                <p></p> -->
            </div>
        </div>
        <div class="black">
            <div>
                <!-- 不中<p></p>
                <p></p> -->

            </div>
        </div>

    </div>
    <br>
    <div id="概率">中枪概率为：1/6</div>
    <script>
        function ji_suan(a, b, way) {
            console.log(way(a, b));
        }
        $("#main").click((argc) => {
            // console.log(argc);
            // $("#main").css("--jiao", $("#main").css("--jiao") - 0 + 3000);
            // $("#main").css("--jiao2", 45);
            // console.log(argc);

            // 随机数
            let suiji = Math.floor(Math.random(1) * 360);
            // 转动角度
            $("#main").css("--jiao", $("#main").css("--jiao") - 0 + 3600 + suiji);
            let yuanshi = $("#main").css("--jiao2")
            if (suiji < (yuanshi / 2) || $("#main").css("--yanse") == '#f00' || suiji > 360 - (yuanshi / 2)) {
                console.log("你肆了");
                // 弹出提示
                setTimeout(() => {
                    alert("你肆了")
                    // 刷新页面
                    location.reload();
                }, 3200);
            }
            else {
                console.log("运气不错");

                if (yuanshi == 60) {
                    xianzai = 360 / 5;
                    setTimeout(() => {
                        $('#概率').text("中枪概率为：1/5");
                    }, 4000);
                }
                else if (yuanshi == 360 / 5) {
                    xianzai = 360 / 4;
                    setTimeout(() => {
                        $('#概率').text("中枪概率为：1/4");
                    }, 4000);

                }
                else if (yuanshi == 360 / 4) {
                    xianzai = 360 / 3;
                    setTimeout(() => {
                        $('#概率').text("中枪概率为：1/3");
                    }, 4000);

                }
                else if (yuanshi == 360 / 3) {
                    xianzai = 360 / 2;
                    setTimeout(() => {
                        $('#概率').text("中枪概率为：1/2");
                    }, 4000);

                }
                else {

                    setTimeout(() => {
                        $('#概率').text("中枪概率为：100%");
                        $("#main").css("--yanse", '#f00');
                    }, 4000);
                }

                // 5秒后初始化
                setTimeout(() => {
                    $("#main").css("--jiao2", xianzai);
                    $("#main").css("--jiao", $("#main").css("--jiao") - 0 - suiji + 360 + (yuanshi / 2) - (xianzai / 2));
                }, 4000);

            }


            // console.log(x);
        });
    </script>
</body>

</html>